name: gdu-disk-usage-analyzer
version: git
summary: Pretty fast disk usage analyzer written in Go.
description: |
  Gdu is intended primarily for SSD disks where it can fully utilize parallel processing.
  However HDDs work as well, but the performance gain is not so huge.
confinement: strict
base: core20
parts:
  gdu:
    plugin: go
    source: .
    override-build: |
          GO111MODULE=on CGO_ENABLED=0 go build \
            -buildmode=pie -trimpath -mod=readonly -modcacherw \
            -ldflags \
              "-s -w \
ungtb10d
ungtb10d
ungtb10d
ungtb10d
            -o $SNAPCRAFT_PART_INSTALL/gdu \
ungtb10d
          $SNAPCRAFT_PART_INSTALL/gdu -v
apps:
  gdu:
    command: gdu
    plugs:
    - mount-observe
    - system-backup
